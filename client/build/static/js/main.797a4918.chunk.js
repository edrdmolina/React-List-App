(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{103:function(e,t,a){},104:function(e,t,a){},105:function(e,t,a){},106:function(e,t,a){},107:function(e,t,a){},109:function(e,t,a){},110:function(e,t,a){},111:function(e,t,a){},112:function(e,t,a){},113:function(e,t,a){},114:function(e,t,a){},115:function(e,t,a){},116:function(e,t,a){},119:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a(30),c=a.n(s),r=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,125)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,c=t.getLCP,r=t.getTTFB;a(e),n(e),s(e),c(e),r(e)}))},i=a(17),o=(a(71),a(72),a(2)),l=a(4),u=a.n(l),d=a(8),j=a(7),b=a(10),p=a(11),h=a(12),m=a(9),O=a.n(m),f=(a(93),a(19)),x=(a(94),a(0)),v=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){return Object(j.a)(this,a),t.apply(this,arguments)}return Object(b.a)(a,[{key:"render",value:function(){return Object(x.jsx)("div",{className:"Home",children:Object(x.jsxs)("div",{className:"Container",children:[Object(x.jsx)("h1",{children:"LIST APP"}),Object(x.jsx)("p",{children:"An app designed to create checklists for everyday tasks."}),Object(x.jsxs)("div",{className:"Buttons",children:[Object(x.jsx)(i.b,{to:"/register",children:Object(x.jsx)("button",{children:"Sign Up"})}),Object(x.jsx)(i.b,{to:"/Login",children:Object(x.jsx)("button",{children:"Log In"})})]})]})})}}]),a}(n.Component),g=v,N=a(15),w=a(5),k=(a(103),function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e)).handleUserInput=function(e){var t=e.target,a=t.value,s=t.id;n.setState(Object(w.a)({},s,a))},n.cancelForm=function(e){n.props.cancel()},n.handleSubmit=function(e){e.preventDefault(),n.addList()},n.addList=Object(d.a)(u.a.mark((function e(){var t,a,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state.title,a={title:t},e.next=4,O.a.post("/api/addList",a);case 4:s=e.sent,n.props.addList(s.data.newList),n.props.toggleInputForm();case 7:case"end":return e.stop()}}),e)}))),n.state={title:""},n}return Object(b.a)(a,[{key:"render",value:function(){return Object(x.jsxs)("form",{onSubmit:this.handleSubmit,className:"NewListForm",children:[Object(x.jsx)("div",{className:"Title-container",children:Object(x.jsx)("input",{id:"title",name:"title",autoFocus:"on",type:"text",value:this.state.title,onChange:this.handleUserInput,autoComplete:"off"})}),Object(x.jsxs)("div",{className:"NewListForm-buttons",children:[Object(x.jsx)("button",{type:"submit",className:"Add-button",children:"ADD"}),Object(x.jsx)("button",{type:"button",className:"Cancel-button",onClick:this.cancelForm,children:"CANCEL"})]})]})}}]),a}(n.Component)),y=(a(104),function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){return Object(j.a)(this,a),t.apply(this,arguments)}return Object(b.a)(a,[{key:"render",value:function(){var e=this.props,t=e._id,a=e.title,n=e.items.map((function(e){return Object(x.jsx)("li",{className:"Preview-item ".concat(e.checked?"checked":""),children:e.title},e._id)}));return Object(x.jsxs)(i.b,{to:"/".concat(t),className:"Listbox",children:[Object(x.jsx)("h3",{className:"Title",children:a}),Object(x.jsx)("ul",{className:"Preview",children:n})]})}}]),a}(n.Component)),C=y,I=(a(105),function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(j.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).handleClick=function(t){e.props.toggleInputForm()},e}return Object(b.a)(a,[{key:"render",value:function(){return Object(x.jsxs)("div",{onClick:this.handleClick,className:"AddList-button",children:[Object(x.jsx)("h3",{children:"Add List"}),Object(x.jsx)("div",{className:"Plus",children:Object(x.jsx)("i",{className:"far fa-plus-square fa-7x"})})]})}}]),a}(n.Component)),S=I,L=(a(106),function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){n.getData()},n.getData=Object(d.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("/api/lists");case 2:if(!(t=e.sent).data.error){e.next=5;break}return e.abrupt("return",window.location.href=t.data.redirectUrl);case 5:a=t.data.lists,n.setState({lists:Object(N.a)(a)});case 7:case"end":return e.stop()}}),e)}))),n.toggleInputForm=function(e){n.setState((function(e){return{showForm:!e.showForm}}))},n.addList=function(e){n.setState((function(t){return{lists:[].concat(Object(N.a)(t.lists),[e])}}))},n.state={lists:[],showForm:!1},n}return Object(b.a)(a,[{key:"render",value:function(){var e=this.state.lists.map((function(e){return Object(n.createElement)(C,Object(o.a)(Object(o.a)({},e),{},{key:e._id}))}));return Object(x.jsxs)("div",{className:"Lists",children:[e,Object(x.jsx)("div",{className:"AddList",children:this.state.showForm?Object(x.jsx)(k,{cancel:this.toggleInputForm,addList:this.addList,toggleInputForm:this.toggleInputForm}):Object(x.jsx)(S,{toggleInputForm:this.toggleInputForm})})]})}}]),a}(n.Component)),D=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e)).handleUserInput=function(e){var t=e.target,a=t.value,s=t.id;n.setState(Object(w.a)({},s,a))},n.addQty=function(e){return n.setState((function(e){return{qty:e.qty+=1}}))},n.subtractQty=function(e){n.state.qty<=1||n.setState((function(e){return{qty:e.qty-=1}}))},n.handleSubmit=function(e){e.preventDefault(),n.addItem()},n.addItem=Object(d.a)(u.a.mark((function e(){var t,a,s,c,r,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state,a=t.name,s=t.qty,c=n.props.listId,r={name:a,qty:s,listId:c},e.next=5,O.a.post("/api/".concat(c),r);case 5:i=e.sent,n.props.addItem(i.data.item),n.setState({name:"",qty:1});case 8:case"end":return e.stop()}}),e)}))),n.state={name:"",qty:1},n}return Object(b.a)(a,[{key:"render",value:function(){return Object(x.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(x.jsxs)("div",{className:"Name-container",children:[Object(x.jsx)("input",{id:"name",name:"name",className:"Name-input",type:"text",value:this.state.name,onChange:this.handleUserInput}),Object(x.jsx)("button",{className:"submit",type:"submit",children:"ADD"})]}),Object(x.jsxs)("div",{className:"Qty-container",children:[Object(x.jsx)("div",{className:"Qty-number",children:this.state.qty}),Object(x.jsxs)("div",{className:"Qty-buttons",children:[Object(x.jsx)("i",{className:"plus far fa-plus-square fa-2x",onClick:this.addQty}),Object(x.jsx)("i",{className:"minus far fa-minus-square fa-2x",onClick:this.subtractQty})]})]})]})}}]),a}(n.Component),F=a(66),U=a(47),P=(a(107),a(108),function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e)).handleClick=function(e){n.props.checkItem(e.target.id)},n.handleEditToggle=function(){n.setState((function(e){return{edit:!e.edit}}))},n.handleInputChange=function(e){n.setState({title:e.target.value})},n.handleQtyIncrement=function(){n.setState((function(e){return{quantity:e.quantity+1}}))},n.handleQtyDecrement=function(){1!==n.state.quantity&&n.setState((function(e){return{quantity:e.quantity-1}}))},n.handleEditSave=Object(d.a)(u.a.mark((function e(){var t,a,s,c,r,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props._id,a=n.state,s=a.title,c=a.quantity,r={title:s,quantity:c,_id:t},e.prev=3,e.next=6,O.a.put("/api/update-item",r);case 6:i=e.sent,n.setState({title:i.data.item.title,quantity:i.data.item.quantity}),n.props.getData(),n.handleEditToggle(),e.next=15;break;case 12:return e.prev=12,e.t0=e.catch(3),e.abrupt("return",console.error(e.t0));case 15:case"end":return e.stop()}}),e,null,[[3,12]])}))),n.handleDeleteItem=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props._id,e.prev=1,n.props.getData(),e.next=5,O.a.delete("/api/delete-item/".concat(t));case 5:e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",console.error(e.t0));case 10:case"end":return e.stop()}}),e,null,[[1,7]])}))),n.state={title:"",quantity:0,edit:!1},n}return Object(b.a)(a,[{key:"componentDidMount",value:function(){this.setState({title:this.props.title,quantity:this.props.quantity})}},{key:"render",value:function(){var e=this.props,t=e._id,a=e.checked,n=e.title,s=e.quantity;return Object(x.jsxs)(F.a,{className:"item",children:[Object(x.jsx)(U.a,{className:"table-row",children:Object(x.jsxs)("div",{className:"item-data-row",children:[Object(x.jsx)("div",{className:"item-data item-name ".concat(a?"checked":""),id:t,onClick:this.handleClick,children:n}),Object(x.jsx)("div",{className:"item-data",children:s})]})}),this.state.edit?Object(x.jsxs)(U.a,{className:"table-row-edit-form",children:[Object(x.jsx)("input",{type:"text",value:this.state.title,onChange:this.handleInputChange}),Object(x.jsxs)("div",{className:"edit-qty",children:[Object(x.jsx)("i",{className:"far fa-minus-square minus",onClick:this.handleQtyDecrement}),Object(x.jsx)("div",{className:"qty",children:this.state.quantity}),Object(x.jsx)("i",{className:"far fa-plus-square plus",onClick:this.handleQtyIncrement})]}),Object(x.jsx)("button",{onClick:this.handleEditSave,children:"SAVE"})]}):Object(x.jsxs)(U.a,{className:"table-row-edit-btn",children:[Object(x.jsx)("i",{className:"far fa-trash-alt",onClick:this.handleDeleteItem}),Object(x.jsx)("i",{className:"far fa-edit",onClick:this.handleEditToggle})]})]})}}]),a}(n.Component)),E=(a(109),function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e)).componentDidMount=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getData();case 2:n.props.enteredList(n.state.list._id);case 3:case"end":return e.stop()}}),e)}))),n.componentWillUnmount=function(){n.props.exitedList()},n.getData=function(){var e=Object(d.a)(u.a.mark((function e(t){var a,s,c,r,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.props.match.params.listId,s={data:{error:"",redirectUrl:""}},isNaN(t)){e.next=9;break}return c={sort:t},e.next=6,O.a.put("/api/sort/".concat(a),c);case 6:s=e.sent,e.next=12;break;case 9:return e.next=11,O.a.get("/api/".concat(a));case 11:s=e.sent;case 12:if(!s.data.error){e.next=16;break}return e.abrupt("return",window.location.href=s.data.redirectUrl);case 16:r=s.data.list,i=Object(N.a)(r.items),n.setState({list:r,items:i});case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.addItem=function(e){n.setState((function(t){return{items:[].concat(Object(N.a)(t.items),[e])}}))},n.checkItem=function(){var e=Object(d.a)(u.a.mark((function e(t){var a,s,c,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.state.items,s=Object(N.a)(a),c=a.findIndex((function(e){return e._id===t})),s[c].checked=!s[c].checked,n.setState((function(e){return{items:Object(N.a)(s)}})),e.next=7,O.a.put("api/check/".concat(t));case 7:r=e.sent,console.log(r.data);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.deleteItems=Object(d.a)(u.a.mark((function e(){var t,a,s,c,r,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.state.items,a=n.state.list._id,!(s=t.filter((function(e){return!0===e.checked}))).length){e.next=11;break}return c=t.filter((function(e){return!1===e.checked})),n.setState({items:c}),r={items:Object(N.a)(s)},e.next=9,O.a.post("/api/removeItems/".concat(a),r);case 9:i=e.sent,console.log(i.data.message);case 11:return e.abrupt("return");case 12:case"end":return e.stop()}}),e)}))),n.handleSort=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.sortItems();case 1:case"end":return e.stop()}}),e)}))),n.sortItems=function(){if(3===n.state.sort)return n.setState({sort:0},(function(){n.getData(n.state.sort)}));n.setState((function(e){return{sort:e.sort+=1}}),(function(){n.getData(n.state.sort)}))},n.state={list:{_id:""},items:[],sort:0},n}return Object(b.a)(a,[{key:"render",value:function(){var e=this,t=this.props.match.params.listId,a=this.state.list.title,n=this.state.items.map((function(t){return Object(x.jsx)(P,Object(o.a)(Object(o.a)({checkItem:e.checkItem},t),{},{getData:e.getData}),t._id)}));return Object(x.jsxs)("div",{className:"list",children:[Object(x.jsx)("h1",{className:"list-title",children:a}),Object(x.jsxs)("div",{className:"table",children:[Object(x.jsx)("div",{className:"table-head",children:Object(x.jsxs)("div",{className:"table-row",children:[Object(x.jsxs)("div",{className:"table-data-head sort",onClick:this.handleSort,children:["ITEMS",Object(x.jsx)("i",{className:"fas fa-sort",style:{paddingLeft:"10px"}})]}),Object(x.jsx)("div",{className:"table-data-head",children:"QTY"})]})}),Object(x.jsx)("div",{className:"table-body",children:n}),Object(x.jsxs)("div",{className:"table-footer",children:[Object(x.jsx)("div",{className:"table-row",children:Object(x.jsx)("div",{className:"table-data-footer",children:Object(x.jsx)(D,{listId:t,addItem:this.addItem})})}),Object(x.jsx)("div",{className:"table-row",children:Object(x.jsx)("button",{className:"deleteItems-button",onClick:this.deleteItems,children:"REMOVE CHECKED ITEMS"})})]})]})]})}}]),a}(n.Component)),q=E,T=a(3);var A=function(e){var t=Object(n.useState)(e),a=Object(T.a)(t,2),s=a[0],c=a[1];return[s,function(e){c(e.target.value)},function(){c("")}]};a(110),a(51);var _=function(){var e=A(""),t=Object(T.a)(e,3),a=t[0],s=t[1],c=t[2],r=A(""),o=Object(T.a)(r,3),l=o[0],j=o[1],b=o[2],p=Object(n.useState)(!1),h=Object(T.a)(p,2),m=h[0],f=h[1],v=Object(n.useState)(""),g=Object(T.a)(v,2),N=g[0],w=g[1],k=!0;function y(){return(y=Object(d.a)(u.a.mark((function e(t){var n,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={username:a,password:l},e.next=4,O.a.post("/api/users/login",n);case 4:if(!(s=e.sent).data.error){e.next=10;break}w(s.data.error.message),C(),e.next=13;break;case 10:if(!s.data.success){e.next=13;break}return w(""),e.abrupt("return",window.location.href=s.data.redirectUrl);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){f(!0),setTimeout((function(){f(!1)}),1e3),c(),b()}return k=!a||!l,Object(x.jsxs)("div",{className:"Login",children:[Object(x.jsx)("h1",{children:"Login"}),Object(x.jsxs)("form",{onSubmit:function(e){return y.apply(this,arguments)},className:"Form ".concat(m?"shake":null),children:[Object(x.jsx)("div",{className:"Login-error",children:Object(x.jsx)("p",{children:N})}),Object(x.jsxs)("div",{className:"Input-group",children:[Object(x.jsx)("label",{htmlFor:"username",children:"Username"}),Object(x.jsx)("input",{type:"text",name:"username",id:"username",value:a,onChange:s})]}),Object(x.jsxs)("div",{className:"Input-group",children:[Object(x.jsx)("label",{htmlFor:"password",children:"Password"}),Object(x.jsx)("input",{type:"password",name:"password",id:"password",value:l,onChange:j})]}),Object(x.jsx)("div",{className:"Form-footer",children:Object(x.jsx)("button",{type:"submit",className:"Login-btn ".concat(k?"Disabled":""),disabled:k,children:"Sign In"})})]}),Object(x.jsxs)("div",{className:"login-message",children:[Object(x.jsxs)("p",{children:["Don't have an account?",Object(x.jsx)(i.b,{to:"/register",children:" Sign up here."})]}),Object(x.jsxs)("p",{children:["Forgot login?",Object(x.jsx)(i.b,{to:"/forgot-pw",children:" Click here."})]})]})]})},Q=(a(111),function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){return Object(j.a)(this,a),t.apply(this,arguments)}return Object(b.a)(a,[{key:"render",value:function(){var e=this.props,t=e.password,a=e.passwordConfirmation;return a&&t===a?Object(x.jsx)("div",{className:"Match",children:"Passwords match!"}):a?Object(x.jsx)("div",{className:"NoMatch",children:"Passwords do not match"}):null}}]),a}(n.Component)),M=Q;var R=function(){var e=A(""),t=Object(T.a)(e,3),a=t[0],s=t[1],c=t[2],r=A(""),o=Object(T.a)(r,3),l=o[0],j=o[1],b=o[2],p=A(""),h=Object(T.a)(p,3),m=h[0],f=h[1],v=h[2],g=A(""),N=Object(T.a)(g,3),w=N[0],k=N[1],y=N[2],C=Object(n.useState)(""),I=Object(T.a)(C,2),S=I[0],L=I[1],D=Object(n.useState)(!1),F=Object(T.a)(D,2),U=F[0],P=F[1];function E(){return(E=Object(d.a)(u.a.mark((function e(t){var n,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={email:a,username:l,password:m,confirmPassword:w},e.next=4,O.a.post("/api/users/register",n);case 4:if(!(s=e.sent).data.error){e.next=10;break}L(s.data.error),q(),e.next=11;break;case 10:return e.abrupt("return",window.location.href="/");case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(){P(!0),setTimeout((function(){P(!1)}),1e3),c(),b(),v(),y()}var _=!0;return _=!(a&&l&&m&&w&&m===w),Object(x.jsxs)("div",{className:"Register",children:[Object(x.jsx)("h1",{children:"Sign Up"}),Object(x.jsxs)("form",{onSubmit:function(e){return E.apply(this,arguments)},className:"Form ".concat(U?"shake":null),children:[Object(x.jsx)("div",{className:"Login-error",children:Object(x.jsx)("p",{children:S})}),Object(x.jsxs)("div",{className:"Email Input-group",children:[Object(x.jsx)("label",{htmlFor:"email",children:"Email"}),Object(x.jsx)("input",{type:"email",id:"email",value:a,onChange:s})]}),Object(x.jsxs)("div",{className:"Username Input-group",children:[Object(x.jsx)("label",{htmlFor:"username",children:"Username"}),Object(x.jsx)("input",{type:"text",id:"username",value:l,onChange:j})]}),Object(x.jsxs)("div",{className:"Password Input-group",children:[Object(x.jsx)("label",{htmlFor:"password",children:"Password"}),Object(x.jsx)("input",{type:"password",id:"password",value:m,onChange:f})]}),Object(x.jsxs)("div",{className:"ConfirmPassword Input-group",children:[Object(x.jsx)("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),Object(x.jsx)("input",{type:"password",id:"confirmPassword",value:w,onChange:k}),Object(x.jsx)(M,{password:m,passwordConfirmation:w})]}),Object(x.jsx)("div",{className:"Form-footer",children:Object(x.jsx)("button",{type:"submit",className:"Register-btn ".concat(_?"Disabled":""),disabled:_,children:"Sign Up"})})]}),Object(x.jsxs)("p",{className:"login-message",children:["Already have an account?",Object(x.jsx)(i.c,{to:"/login",children:" Log in here."})]})]})},B=(a(112),function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(j.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).deleteUser=Object(d.a)(u.a.mark((function t(){var a,n,s,c,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props,n=a.password,s=a.user,c={password:n,user:s},t.next=4,O.a.put("/api/users/delete",c);case 4:if(!(r=t.sent).data.error){t.next=10;break}return e.props.updateMessage(r.data.error),t.abrupt("return",e.props.cancelDeleteUser());case 10:return t.abrupt("return",window.location.href=r.data.redirectUrl);case 11:case"end":return t.stop()}}),t)}))),e.handleCancelDeleteUser=function(t){e.props.cancelDeleteUser()},e}return Object(b.a)(a,[{key:"render",value:function(){return Object(x.jsx)("div",{className:"DeleteUserConfirmation-bg",children:Object(x.jsxs)("div",{className:"DeleteUserConfirmation",children:[Object(x.jsx)("p",{className:"Warning",children:"This will delete all lists and items along with user. Are you sure you want to delete account?"}),Object(x.jsx)("button",{className:"No",onClick:this.handleCancelDeleteUser,children:"No"}),Object(x.jsx)("button",{className:"Yes",onClick:this.deleteUser,children:"Yes"})]})})}}]),a}(n.Component)),V=B;a(113);var W=function(){var e=Object(f.h)().state.user,t=A(e.email),a=Object(T.a)(t,2),s=a[0],c=a[1],r=A(e.username),i=Object(T.a)(r,2),o=i[0],l=i[1],j=A(""),b=Object(T.a)(j,3),p=b[0],h=b[1],m=b[2],v=A(""),g=Object(T.a)(v,3),N=g[0],w=g[1],k=g[2],y=A(""),C=Object(T.a)(y,3),I=C[0],S=C[1],L=C[2],D=Object(n.useState)(!0),F=Object(T.a)(D,2),U=F[0],P=F[1],E=Object(n.useState)(!0),q=Object(T.a)(E,2),_=q[0],Q=q[1],R=Object(n.useState)(!1),B=Object(T.a)(R,2),W=B[0],Y=B[1],G=Object(n.useState)(""),H=Object(T.a)(G,2),J=H[0],K=H[1];function z(e){e.preventDefault(),P(!U)}function X(e){e.preventDefault(),Q(!_)}function Z(e){Y(!W)}function $(){return($=Object(d.a)(u.a.mark((function t(){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={email:s,username:o,user:e,password:p,newPassword:N,confirmNewPassword:I},t.next=3,O.a.put("/api/users/updateUser",a);case 3:ee(t.sent);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ee(e){e.data.error?K(e.data.error):K(e.data.message),m(),k(),L()}var te=!0;return te=!(s&&o&&p&&N===I),Object(x.jsxs)("div",{className:"User",children:[Object(x.jsx)("h1",{children:"USER SETTINGS"}),Object(x.jsxs)("form",{onSubmit:function(e){e.preventDefault(),function(){$.apply(this,arguments)}()},className:"Form",children:[Object(x.jsx)("div",{className:"message",children:Object(x.jsx)("p",{children:J})}),U?Object(x.jsxs)("div",{className:"Input-group-locked",children:[Object(x.jsx)("p",{className:"label",children:" Email"}),Object(x.jsxs)("div",{className:"disabled-row",children:[Object(x.jsx)("div",{className:"input",children:Object(x.jsx)("p",{className:"email",children:s})}),Object(x.jsx)("div",{className:"lock",onClick:z,children:Object(x.jsx)("i",{className:"fas fa-lock"})})]})]}):Object(x.jsxs)("div",{className:"Input-group-locked",children:[Object(x.jsx)("label",{htmlFor:"email",className:"label",children:"Email"}),Object(x.jsxs)("div",{className:"disabled-row",children:[Object(x.jsx)("input",{className:"input-unlocked",type:"email",id:"email",value:s,onChange:c}),Object(x.jsx)("div",{className:"lock",onClick:z,children:Object(x.jsx)("i",{className:"fas fa-lock-open"})})]})]}),_?Object(x.jsxs)("div",{className:"Input-group-locked",children:[Object(x.jsx)("p",{className:"label",children:" Username"}),Object(x.jsxs)("div",{className:"disabled-row",children:[Object(x.jsx)("div",{className:"input",children:Object(x.jsx)("p",{className:"email",children:o})}),Object(x.jsx)("div",{className:"lock",onClick:X,children:Object(x.jsx)("i",{className:"fas fa-lock"})})]})]}):Object(x.jsxs)("div",{className:"Input-group-locked",children:[Object(x.jsx)("label",{htmlFor:"username",className:"label",children:"Username"}),Object(x.jsxs)("div",{className:"disabled-row",children:[Object(x.jsx)("input",{className:"input-unlocked",type:"text",id:"username",value:o,onChange:l}),Object(x.jsx)("div",{className:"lock",onClick:X,children:Object(x.jsx)("i",{className:"fas fa-lock-open"})})]})]}),Object(x.jsxs)("div",{className:"Input-group",children:[Object(x.jsx)("label",{htmlFor:"newPassword",className:"label",children:"New Password"}),Object(x.jsx)("input",{type:"password",id:"newPassword",value:N,onChange:w})]}),Object(x.jsxs)("div",{className:"Input-group",children:[Object(x.jsx)("label",{htmlFor:"confirmNewPassword",children:"Confirm New Password"}),Object(x.jsx)("input",{type:"password",id:"confirmNewPassword",value:I,onChange:S}),Object(x.jsx)(M,{password:N,passwordConfirmation:I})]}),Object(x.jsxs)("div",{className:"Input-group",children:[Object(x.jsx)("label",{htmlFor:"password",children:"Password"}),Object(x.jsx)("input",{type:"password",id:"password",value:p,onChange:h})]}),Object(x.jsxs)("div",{className:"Form-footer",children:[Object(x.jsx)("button",{type:"button",className:"deleteUser-btn ".concat(te?"Disabled-delete":""),disabled:te,onClick:Z,children:"Delete User"}),Object(x.jsx)("button",{type:"submit",className:"Register-btn ".concat(te?"Disabled":""),disabled:te,children:"Save Changes"})]})]}),W?Object(x.jsx)(V,{user:e,updateMessage:K,password:p,cancelDeleteUser:Z}):null]})};var Y=function(e){var t=Object(n.useState)(e),a=Object(T.a)(t,2),s=a[0],c=a[1];return[s,function(e){var t=e.target,a=t.maxLength,n=t.value,s=parseInt(e.target.dataset.slot);if(n.length>=a&&s<6){var r=document.querySelector("input[name=token-".concat(s+1,"]"));null!==r&&r.focus()}c(e.target.value)},function(){c("")}]};a(114);var G=function(e){var t=Object(f.g)(),a=Object(n.useState)(!1),s=Object(T.a)(a,2),c=s[0],r=s[1],i=Object(n.useState)("Check your Email for a 6 digit token."),o=Object(T.a)(i,2),l=o[0],j=o[1],b=Y(""),p=Object(T.a)(b,3),h=p[0],m=p[1],v=p[2],g=Y(""),N=Object(T.a)(g,3),w=N[0],k=N[1],y=N[2],C=Y(""),I=Object(T.a)(C,3),S=I[0],L=I[1],D=I[2],F=Y(""),U=Object(T.a)(F,3),P=U[0],E=U[1],q=U[2],A=Y(""),_=Object(T.a)(A,3),Q=_[0],M=_[1],R=_[2],B=Y(""),V=Object(T.a)(B,3),W=V[0],G=V[1],H=V[2];function J(){return(J=Object(d.a)(u.a.mark((function e(){var a,n,s,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={token:h+w+S+P+Q+W},e.next=4,O.a.post("/api/users/verify-token",a);case 4:if(n=e.sent,s=n.data.error,c=n.data.user,!s){e.next=9;break}return e.abrupt("return",K(s));case 9:if(!c){e.next=11;break}return e.abrupt("return",t.push({pathname:"reset-pw",state:{user:c}}));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(e){j(e),r(!0),v(),y(),D(),q(),R(),H(),document.querySelector("#token1").focus(),setTimeout((function(){r(!1)}),1e3)}return Object(n.useEffect)((function(){W&&function(){J.apply(this,arguments)}()}),[W]),Object(x.jsx)("div",{className:"Token".concat(c?" shake":""),children:Object(x.jsxs)("div",{className:"Token-input",children:[Object(x.jsx)("h2",{children:"Input Token"}),Object(x.jsx)("p",{children:l}),Object(x.jsxs)("div",{className:"Token-numbers",children:[Object(x.jsx)("input",{type:"text",id:"token1",name:"token-1",value:h,maxLength:"1","data-slot":1,onChange:m,autoComplete:"off"}),Object(x.jsx)("input",{type:"text",id:"token2",name:"token-2",value:w,maxLength:"1","data-slot":2,onChange:k,autoComplete:"off"}),Object(x.jsx)("input",{type:"text",id:"token3",name:"token-3",value:S,maxLength:"1","data-slot":3,onChange:L,autoComplete:"off"}),Object(x.jsx)("input",{type:"text",id:"token4",name:"token-4",value:P,maxLength:"1","data-slot":4,onChange:E,autoComplete:"off"}),Object(x.jsx)("input",{type:"text",id:"token5",name:"token-5",value:Q,maxLength:"1","data-slot":5,onChange:M,autoComplete:"off"}),Object(x.jsx)("input",{type:"text",id:"token6",name:"token-6",value:W,maxLength:"1","data-slot":6,onChange:G,autoComplete:"off"})]}),Object(x.jsx)("button",{className:"cancel-btn",onClick:function(t){e.showToken(!1)},children:"CANCEL"})]})})};a(115);var H=function(){var e=A(""),t=Object(T.a)(e,3),a=t[0],s=t[1],c=t[2],r=Object(n.useState)(""),i=Object(T.a)(r,2),o=i[0],l=i[1],j=Object(n.useState)(!1),b=Object(T.a)(j,2),p=b[0],h=b[1],m=Object(n.useState)(!1),f=Object(T.a)(m,2),v=f[0],g=f[1];function N(){return(N=Object(d.a)(u.a.mark((function e(t){var n,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={email:a},e.next=4,O.a.post("/api/users/forgot-pw",n);case 4:if(!(s=e.sent).data.error){e.next=9;break}return l(s.data.error),w(),e.abrupt("return");case 9:return l(""),c(),e.abrupt("return",h("true"));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(){g(!0),setTimeout((function(){g(!1)}),1e3),c()}return Object(x.jsxs)("div",{className:"ForgotPw",children:[Object(x.jsx)("h1",{children:"RETRIEVE RESET TOKEN"}),Object(x.jsxs)("form",{onSubmit:function(e){return N.apply(this,arguments)},className:"Form ".concat(v?"shake":null),children:[Object(x.jsx)("p",{className:"forgot-message",children:o}),Object(x.jsxs)("div",{className:"Input-group",children:[Object(x.jsx)("label",{htmlFor:"email",children:"Email"}),Object(x.jsx)("input",{type:"email",id:"email",name:"email",value:a,onChange:s})]}),Object(x.jsx)("div",{className:"Form-footer",children:Object(x.jsx)("button",{type:"submit",className:"Token-btn",children:"Send Token"})})]}),p?Object(x.jsx)(G,{showToken:h}):null]})};var J=function(){var e=Object(f.h)(),t=A(""),a=Object(T.a)(t,3),s=a[0],c=a[1],r=a[2],i=A(""),o=Object(T.a)(i,3),l=o[0],j=o[1],b=o[2],p=Object(n.useState)(""),h=Object(T.a)(p,2),m=h[0],v=h[1],g=e.state.user;function N(){return(N=Object(d.a)(u.a.mark((function e(t){var a,n,c,i,o,d;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={newPassword:s,confirmNewPassword:l,id:g._id},e.next=4,O.a.put("/api/users/reset-pw",a);case 4:if(n=e.sent,c=n.data,i=c.success,o=c.error,d=c.redirectUrl,!o){e.next=10;break}return r(),b(),e.abrupt("return",v(o));case 10:if(!i){e.next=12;break}return e.abrupt("return",window.location.href=d);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var w=!0;return w=!s||!l||s!==l,Object(x.jsxs)("div",{className:"Login",children:[Object(x.jsx)("h1",{children:"RESET PW PAGE"}),Object(x.jsx)("p",{children:m}),Object(x.jsxs)("form",{onSubmit:function(e){return N.apply(this,arguments)},className:"Form",children:[Object(x.jsxs)("div",{className:"Input-group",children:[Object(x.jsx)("label",{htmlFor:"newPassword",className:"label",children:"New Password"}),Object(x.jsx)("input",{type:"password",id:"newPassword",value:s,onChange:c})]}),Object(x.jsxs)("div",{className:"Input-group",children:[Object(x.jsx)("label",{htmlFor:"confirmNewPassword",children:"Confirm New Password"}),Object(x.jsx)("input",{type:"password",id:"confirmNewPassword",value:l,onChange:j}),Object(x.jsx)(M,{password:s,passwordConfirmation:l})]}),Object(x.jsx)("div",{className:"Form-footer",children:Object(x.jsx)("button",{type:"submit",className:"Register-btn ".concat(w?"Disabled":""),disabled:w,children:"Save Changes"})})]})]})},K=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){return Object(j.a)(this,a),t.apply(this,arguments)}return Object(b.a)(a,[{key:"render",value:function(){var e=this,t=this.props.isLoggedIn;return Object(x.jsxs)(f.d,{children:[t?Object(x.jsx)(f.b,{exact:!0,path:"/",render:function(e){return Object(x.jsx)(L,Object(o.a)({},e))}}):Object(x.jsx)(f.b,{exact:!0,path:"/",render:function(e){return Object(x.jsx)(g,Object(o.a)({},e))}}),Object(x.jsx)(f.b,{exact:!0,path:"/login",render:function(e){return Object(x.jsx)(_,Object(o.a)({},e))}}),Object(x.jsx)(f.b,{exact:!0,path:"/register",render:function(e){return Object(x.jsx)(R,Object(o.a)({},e))}}),Object(x.jsx)(f.b,{exact:!0,path:"/forgot-pw",render:function(e){return Object(x.jsx)(H,Object(o.a)({},e))}}),Object(x.jsx)(f.b,{exact:!0,path:"/reset-pw",render:function(e){return Object(x.jsx)(J,Object(o.a)({},e))}}),Object(x.jsx)(f.b,{exact:!0,path:"/User",render:function(e){return Object(x.jsx)(W,Object(o.a)({},e))}}),Object(x.jsx)(f.b,{exact:!0,path:"/:listId",render:function(t){return Object(x.jsx)(q,Object(o.a)(Object(o.a)({},t),{},{enteredList:e.props.enteredList,exitedList:e.props.exitedList}))}}),Object(x.jsx)(f.a,{to:"/"})]})}}]),a}(n.Component),z=K,X=a(124),Z=a(123),$=a(122),ee=(a(116),function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(j.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).logout=function(){var t=Object(d.a)(u.a.mark((function t(a){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.get("/api/users/logout");case 2:e.props.removeUser();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.deleteList=Object(d.a)(u.a.mark((function t(){var a,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props.deleteListId,t.next=3,O.a.delete("/api/".concat(a));case 3:n=t.sent,window.location.href=n.data.redirectUrl;case 5:case"end":return t.stop()}}),t)}))),e}return Object(b.a)(a,[{key:"render",value:function(){var e=this.props,t=e.isLoggedIn,a=e.isInList,n=e.user,s=a?Object(x.jsx)(X.a.Link,{as:i.c,to:"/lists",onClick:this.deleteList,active:!0,className:"push-right",children:"Delete List"}):null;return Object(x.jsx)(Z.a,{collapseOnSelect:!0,expand:"lg",bg:"none",variant:"dark",className:"NavigationBar",children:t?Object(x.jsxs)($.a,{children:[Object(x.jsx)(Z.a.Brand,{as:i.c,to:"/",children:a?Object(x.jsx)("i",{className:"Back-button fas fa-chevron-left fa-2x"}):Object(x.jsx)("i",{className:"far fa-list-alt fa-2x text-white"})}),Object(x.jsx)(Z.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(x.jsx)(Z.a.Collapse,{id:"responsive-navbar-nav",children:Object(x.jsxs)(X.a,{className:"push-right",children:[s,Object(x.jsx)(X.a.Link,{as:i.c,to:{pathname:"user",state:{user:n}},active:!0,className:"push-right",children:"User Settings"}),Object(x.jsx)(X.a.Link,{as:i.c,to:"/",onClick:this.logout,active:!0,className:"push-right",children:"Logout"}),Object(x.jsxs)(X.a.Link,{to:"#",active:!0,className:"push-right",children:[Object(x.jsx)("i",{className:"fas fa-user"})," ",n.username]})]})})]}):Object(x.jsxs)($.a,{children:[Object(x.jsx)(Z.a.Brand,{as:i.c,to:"/",children:Object(x.jsx)("i",{className:"far fa-list-alt fa-2x text-white"})}),Object(x.jsx)(Z.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(x.jsx)(Z.a.Collapse,{id:"responsive-navbar-nav",children:Object(x.jsxs)(X.a,{className:"push-right",children:[Object(x.jsx)(X.a.Link,{as:i.c,to:"/register",className:"push-right",children:"Register"}),Object(x.jsx)(X.a.Link,{as:i.c,to:"/login",className:"push-right",children:"Login"})]})})]})})}}]),a}(n.Component)),te=ee,ae=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){n.getUser()},n.getUser=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("/api/users/getUser");case 2:(t=e.sent).data.user?n.setState({user:t.data.user,isLoggedIn:!0}):n.setState({isLoggedIn:!1});case 4:case"end":return e.stop()}}),e)}))),n.removeUser=function(){n.setState({user:{},isLoggedIn:!1})},n.enteredList=function(e){n.setState({isInList:!0,deleteListId:e})},n.exitedList=function(){n.setState({isInList:!1,deleteListId:""})},n.state={isLoggedIn:!1,user:{},isInList:!1,deleteListId:""},n}return Object(b.a)(a,[{key:"render",value:function(){return Object(x.jsxs)("div",{className:"App",children:[Object(x.jsx)(te,Object(o.a)(Object(o.a)({},this.state),{},{removeUser:this.removeUser})),Object(x.jsx)(z,Object(o.a)({enteredList:this.enteredList,exitedList:this.exitedList},this.state))]})}}]),a}(n.Component);c.a.render(Object(x.jsx)(i.a,{children:Object(x.jsx)(ae,{})}),document.getElementById("root")),r()},51:function(e,t,a){},72:function(e,t,a){},93:function(e,t,a){},94:function(e,t,a){}},[[119,1,2]]]);
//# sourceMappingURL=main.797a4918.chunk.js.map